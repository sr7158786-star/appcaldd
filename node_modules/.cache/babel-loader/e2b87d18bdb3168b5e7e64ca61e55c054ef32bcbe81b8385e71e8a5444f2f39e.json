{"ast":null,"code":"var _jsxFileName = \"/workspace/src/components/CameraScreen.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport { ArrowLeft, Camera, RotateCcw, Image as ImageIcon } from 'lucide-react';\nimport { recognizeFood } from '../utils/foodRecognition';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CameraScreen = ({\n  onNavigate,\n  onFoodCaptured,\n  onCameraCapture,\n  capturedImage\n}) => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [stream, setStream] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState('');\n  const [facingMode, setFacingMode] = useState('environment');\n  useEffect(() => {\n    startCamera();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, [facingMode]);\n  const startCamera = async () => {\n    try {\n      setError('');\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n      const newStream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: facingMode,\n          width: {\n            ideal: 1280\n          },\n          height: {\n            ideal: 720\n          }\n        }\n      });\n      if (videoRef.current) {\n        videoRef.current.srcObject = newStream;\n        videoRef.current.play();\n      }\n      setStream(newStream);\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      setError('Unable to access camera. Please ensure you have granted camera permissions.');\n    }\n  };\n  const capturePhoto = () => {\n    if (!videoRef.current || !canvasRef.current) return;\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    if (!context) return;\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    context.drawImage(video, 0, 0, canvas.width, canvas.height);\n    const imageData = canvas.toDataURL('image/jpeg', 0.8);\n    onCameraCapture(imageData);\n    processImage(imageData);\n  };\n  const processImage = async imageData => {\n    setIsProcessing(true);\n    try {\n      const recognizedFood = await recognizeFood(imageData);\n      onFoodCaptured(recognizedFood);\n    } catch (err) {\n      console.error('Error processing image:', err);\n      setError('Failed to analyze the image. Please try again.');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const switchCamera = () => {\n    setFacingMode(prev => prev === 'user' ? 'environment' : 'user');\n  };\n  const handleFileUpload = event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = e => {\n      var _e$target;\n      const imageData = (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.result;\n      onCameraCapture(imageData);\n      processImage(imageData);\n    };\n    reader.readAsDataURL(file);\n  };\n  if (isProcessing) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col h-screen bg-gray-900 items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-white text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin w-12 h-12 border-4 border-white border-t-transparent rounded-full mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-2\",\n          children: \"Analyzing your meal...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-300\",\n          children: \"Please wait while we identify the food\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-screen bg-gray-900 relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/50 to-transparent\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-4 pt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onNavigate('dashboard'),\n          className: \"p-2 rounded-full bg-black/30 text-white hover:bg-black/50 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: switchCamera,\n            className: \"p-2 rounded-full bg-black/30 text-white hover:bg-black/50 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(RotateCcw, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 relative overflow-hidden\",\n      children: error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-full flex items-center justify-center text-white text-center p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-4\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startCamera,\n            className: \"bg-white text-gray-900 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors\",\n            children: \"Try Again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          className: \"w-full h-full object-cover\",\n          autoPlay: true,\n          playsInline: true,\n          muted: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-64 h-64 border-2 border-white border-dashed rounded-lg flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-white text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm opacity-75 mb-2\",\n                children: \"Position food here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs opacity-50\",\n                children: \"Make sure the food is well lit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/50 to-transparent\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center space-x-8 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"p-3 rounded-full bg-black/30 text-white hover:bg-black/50 transition-colors cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(ImageIcon, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handleFileUpload,\n            className: \"hidden\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: capturePhoto,\n          disabled: !!error,\n          className: \"w-16 h-16 rounded-full bg-white hover:bg-gray-100 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: /*#__PURE__*/_jsxDEV(Camera, {\n            size: 28,\n            className: \"text-gray-900\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-12 h-12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-white/80 pb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm mb-1\",\n          children: \"Tap to scan your meal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs opacity-75\",\n          children: \"Or upload from gallery\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n_s(CameraScreen, \"MtPVdz0GaULiSa6YUDlYQ1n+GWU=\");\n_c = CameraScreen;\nexport default CameraScreen;\nvar _c;\n$RefreshReg$(_c, \"CameraScreen\");","map":{"version":3,"names":["React","useRef","useState","useEffect","ArrowLeft","Camera","RotateCcw","Image","ImageIcon","recognizeFood","jsxDEV","_jsxDEV","Fragment","_Fragment","CameraScreen","onNavigate","onFoodCaptured","onCameraCapture","capturedImage","_s","videoRef","canvasRef","stream","setStream","isProcessing","setIsProcessing","error","setError","facingMode","setFacingMode","startCamera","getTracks","forEach","track","stop","newStream","navigator","mediaDevices","getUserMedia","video","width","ideal","height","current","srcObject","play","err","console","capturePhoto","canvas","context","getContext","videoWidth","videoHeight","drawImage","imageData","toDataURL","processImage","recognizedFood","switchCamera","prev","handleFileUpload","event","_event$target$files","file","target","files","reader","FileReader","onload","e","_e$target","result","readAsDataURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","ref","autoPlay","playsInline","muted","type","accept","onChange","disabled","style","display","_c","$RefreshReg$"],"sources":["/workspace/src/components/CameraScreen.tsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { ArrowLeft, Camera, RotateCcw, Image as ImageIcon } from 'lucide-react';\nimport { Screen, FoodItem } from '../types';\nimport { recognizeFood } from '../utils/foodRecognition';\n\ninterface CameraScreenProps {\n  onNavigate: (screen: Screen) => void;\n  onFoodCaptured: (food: FoodItem) => void;\n  onCameraCapture: (imageData: string) => void;\n  capturedImage?: string;\n}\n\nconst CameraScreen: React.FC<CameraScreenProps> = ({ \n  onNavigate, \n  onFoodCaptured, \n  onCameraCapture,\n  capturedImage \n}) => {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [stream, setStream] = useState<MediaStream | null>(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState<string>('');\n  const [facingMode, setFacingMode] = useState<'user' | 'environment'>('environment');\n\n  useEffect(() => {\n    startCamera();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, [facingMode]);\n\n  const startCamera = async () => {\n    try {\n      setError('');\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n\n      const newStream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: facingMode,\n          width: { ideal: 1280 },\n          height: { ideal: 720 }\n        }\n      });\n\n      if (videoRef.current) {\n        videoRef.current.srcObject = newStream;\n        videoRef.current.play();\n      }\n      setStream(newStream);\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      setError('Unable to access camera. Please ensure you have granted camera permissions.');\n    }\n  };\n\n  const capturePhoto = () => {\n    if (!videoRef.current || !canvasRef.current) return;\n\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    if (!context) return;\n\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    \n    context.drawImage(video, 0, 0, canvas.width, canvas.height);\n    const imageData = canvas.toDataURL('image/jpeg', 0.8);\n    \n    onCameraCapture(imageData);\n    processImage(imageData);\n  };\n\n  const processImage = async (imageData: string) => {\n    setIsProcessing(true);\n    try {\n      const recognizedFood = await recognizeFood(imageData);\n      onFoodCaptured(recognizedFood);\n    } catch (err) {\n      console.error('Error processing image:', err);\n      setError('Failed to analyze the image. Please try again.');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const switchCamera = () => {\n    setFacingMode(prev => prev === 'user' ? 'environment' : 'user');\n  };\n\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const imageData = e.target?.result as string;\n      onCameraCapture(imageData);\n      processImage(imageData);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  if (isProcessing) {\n    return (\n      <div className=\"flex flex-col h-screen bg-gray-900 items-center justify-center\">\n        <div className=\"text-white text-center\">\n          <div className=\"animate-spin w-12 h-12 border-4 border-white border-t-transparent rounded-full mx-auto mb-4\"></div>\n          <h2 className=\"text-xl font-semibold mb-2\">Analyzing your meal...</h2>\n          <p className=\"text-gray-300\">Please wait while we identify the food</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gray-900 relative\">\n      {/* Header */}\n      <div className=\"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/50 to-transparent\">\n        <div className=\"flex items-center justify-between p-4 pt-8\">\n          <button\n            onClick={() => onNavigate('dashboard')}\n            className=\"p-2 rounded-full bg-black/30 text-white hover:bg-black/50 transition-colors\"\n          >\n            <ArrowLeft size={20} />\n          </button>\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={switchCamera}\n              className=\"p-2 rounded-full bg-black/30 text-white hover:bg-black/50 transition-colors\"\n            >\n              <RotateCcw size={20} />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Camera View */}\n      <div className=\"flex-1 relative overflow-hidden\">\n        {error ? (\n          <div className=\"h-full flex items-center justify-center text-white text-center p-6\">\n            <div>\n              <p className=\"mb-4\">{error}</p>\n              <button\n                onClick={startCamera}\n                className=\"bg-white text-gray-900 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors\"\n              >\n                Try Again\n              </button>\n            </div>\n          </div>\n        ) : (\n          <>\n            <video\n              ref={videoRef}\n              className=\"w-full h-full object-cover\"\n              autoPlay\n              playsInline\n              muted\n            />\n            \n            {/* Food scanning overlay */}\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <div className=\"w-64 h-64 border-2 border-white border-dashed rounded-lg flex items-center justify-center\">\n                <div className=\"text-white text-center\">\n                  <div className=\"text-sm opacity-75 mb-2\">Position food here</div>\n                  <div className=\"text-xs opacity-50\">Make sure the food is well lit</div>\n                </div>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n\n      {/* Camera Controls */}\n      <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/50 to-transparent\">\n        <div className=\"flex items-center justify-center space-x-8 p-8\">\n          {/* Gallery Button */}\n          <label className=\"p-3 rounded-full bg-black/30 text-white hover:bg-black/50 transition-colors cursor-pointer\">\n            <ImageIcon size={24} />\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileUpload}\n              className=\"hidden\"\n            />\n          </label>\n\n          {/* Capture Button */}\n          <button\n            onClick={capturePhoto}\n            disabled={!!error}\n            className=\"w-16 h-16 rounded-full bg-white hover:bg-gray-100 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <Camera size={28} className=\"text-gray-900\" />\n          </button>\n\n          {/* Placeholder for balance */}\n          <div className=\"w-12 h-12\"></div>\n        </div>\n\n        {/* Instructions */}\n        <div className=\"text-center text-white/80 pb-6\">\n          <div className=\"text-sm mb-1\">Tap to scan your meal</div>\n          <div className=\"text-xs opacity-75\">Or upload from gallery</div>\n        </div>\n      </div>\n\n      {/* Hidden canvas for image capture */}\n      <canvas\n        ref={canvasRef}\n        style={{ display: 'none' }}\n      />\n    </div>\n  );\n};\n\nexport default CameraScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}